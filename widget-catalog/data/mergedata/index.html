<html>    
    <head>
    <title>Orange â€“ Merge Data Data Mining Fruitful and Fun</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Orange Data Mining Toolbox">
    <meta name="author" content="Bioinformatics Laboratory, University of Ljubljana">
    <meta name="google-site-verification" content="DS7GH5M7ABi78pIC2rMcTBFx-UeBFObXOeLvR7Ow3EQ" />
    <link rel="shortcut icon" href="/images/favicon.ico">
    
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Covered+By+Your+Grace' rel='stylesheet' type='text/css'>
    
    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css">
    
    <link rel="stylesheet" href="/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/plugins/lightgallery/css/lightgallery.css">
    
    <link id="theme-style" rel="stylesheet" href="/css/styles.css">
    
    <link rel="stylesheet" href="/css/custom.css">
    <link rel="stylesheet" href="/css/custom_blog.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script id="dsq-count-scr" src="//orange-4.disqus.com/count.js" async></script>
    <link rel="stylesheet" href="/css/widgetcat.css">

     <script src="https://www.recaptcha.net/recaptcha/api.js" async defer></script>
    <noscript>
        <style>
            .jsonly { display: none !important; }
        </style>
    </noscript>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-528382-1', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');


    </script>

    
 

    <script type="text/javascript" src="/plugins/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/plugins/detectmobilebrowser.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lightgallery.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-thumbnail.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-video.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-zoom.js"></script>
    <script type="text/javascript" src="/js/custom.js"></script>

    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T5X4T27');</script>
    

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T5X4T27"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    

    
    <script type="text/javascript">
      $( document ).ready( function () {

        $('a').off("click").click( function ( event ) {
           ga('send', 'event', "a", event.type, $(this).attr("id"), 1 );
        });

        $('[class *= trackClicks_]').off("click").click( function ( event ) {
           var classList = $(this).attr('class').split(/\s+/);
           var trackname = "";
           $.each(classList, function(index, item) {
             if (item.indexOf('trackClicks_') === 0) {
                trackname = item;
             }
           });
           ga('send', 'event', "a", event.type, trackname, 1 );
        });
      });
    </script>

</head>
    <body>

     <header id="top" class="header navbar-fixed-top">
        <div class="container" >
            <h1 class="logo pull-left" >
                <a id="header-orangelogo" href="/">
                    <img id="logo-image" class="logo-image" src="/images/orange_logo_hq.png" alt="Logo">
                </a>
            </h1>
            <nav id="main-nav" class="main-nav navbar-right" role="navigation">
                <div class="navbar-header">
                    <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
               <div class="navbar-collapse collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">

                        
                        
                            <li class="nav-item"><a id="menu_feature" href="/#Orange-Features">Features</a></li>                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/screenshots/">Screenshots</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/workflows/">Workflows</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/download/">Download</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/blog/">Blog</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/docs/">Docs</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/training/">Training</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item">
                            <a class="btn donate" id="header-donate-link" role="button" target="_blank" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J">Donate</a>
                        </li>
                            
                        
                    
                    
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <div id="main">
        <div class="container-fluid clear-top">
            

<section id="features" class="features section padding-bottom">
        <div class="container page-background">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="content privacy padding-doc single-widget">
                        

<h1 id="merge-data">Merge Data</h1>

<p>Merges two datasets, based on values of selected attributes.</p>

<p><strong>Inputs</strong></p>

<ul>
<li>Data: input dataset</li>
<li>Extra Data: additional dataset</li>
</ul>

<p><strong>Outputs</strong></p>

<ul>
<li>Data: dataset with features added from extra data</li>
</ul>

<p>The <strong>Merge Data</strong> widget is used to horizontally merge two datasets, based on the values of selected attributes (columns). In the input, two datasets are required, data and extra data. Rows from the two data sets are matched by the values of pairs of attributes, chosen by the user. The widget produces one output. It corresponds to the instances from the input data to which attributes (columns) from input extra data are appended.</p>

<p>If the selected attribute pair does not contain unique values (in other words, the attributes have duplicate values), the widget will give a warning. Instead, one can match by more than one attribute. Click on the plus icon to add the attribute to merge on. The final result has to be a unique combination for each individual row.</p>

<p><img src="../images/Merge-Data-stamped.png" alt="" /></p>

<ol>
<li>Information on main data.</li>
<li>Information on data to append.</li>
<li>Merging type:

<ul>
<li><strong>Append columns from Extra Data</strong> outputs all rows from the Data, augmented by the columns in the Extra Data. Rows without matches are retained, even where the data in the extra columns are missing.</li>
<li><strong>Find matching pairs of rows</strong> outputs rows from the Data, augmented by the columns in the Extra Data. Rows without matches are removed from the output.</li>
<li><strong>Concatenate tables</strong> treats both data sources symmetrically. The output is similar to the first option, except that non-matched values from Extra Data are appended at the end.</li>
</ul></li>
<li>List of attributes from Data input.</li>
<li>List of attributes from Extra Data input.</li>
<li>Produce a report.</li>
</ol>

<h2 id="merging-types">Merging Types</h2>

<p>#####Append Columns from Extra Data (left join)</p>

<p>Columns from the Extra Data are added to the Data. Instances with no matching rows will have missing values added.</p>

<p>For example, the first table may contain city names and the second would be a list of cities and their coordinates. Columns with coordinates would then be appended to the data with city names. Where city names cannot be matched, missing values will appear.</p>

<p>In our example, the first Data input contained 6 cities, but the Extra Data did not provide Lat and Lon values for Bratislava, so the fields will be empty.</p>

<p><img src="../images/MergeData_Append.png" alt="" /></p>

<p>#####Find matching pairs of rows (inner join)</p>

<p>Only those rows that are matched will be present on the output, with the Extra Data columns appended. Rows without matches are removed.</p>

<p>In our example, Bratislava from the Data input did not have Lat and Lon values, while Belgrade from the Extra Data could not be found in the City column we were merging on. Hence both instances are remove - only the intersection of instances is sent to the output.</p>

<p><img src="../images/MergeData_Intersection.png" alt="" /></p>

<p>#####Concatenate tables (outer join)</p>

<p>The rows from both the Data and the Extra Data will be present on the output. Where rows cannot be matched, missing values will appear.</p>

<p>In our example, both Bratislava and Belgrade are now present. Bratislava will have missing Lat and Lon values, while Belgrade will have a missing Population value.</p>

<p><img src="../images/MergeData_Concatenate.png" alt="" /></p>

<p>#####Row index</p>

<p>Data will be merged in the same order as they appear in the table. Row number 1 from the Data input will be joined with row number 1 from the Extra Data input. Row numbers are assigned by Orange based on the original order of the data instances.</p>

<p>#####Instance ID</p>

<p>This is a more complex option. Sometimes, data in transformed in the analysis and the domain is no longer the same. Nevertheless, the original row indices are still present in the background (Orange remembers them). In this case one can merge on instance ID. For example if you transformed the data with PCA, visualized it in the Scatter Plot, selected some data instances and now you wish to see the original information of the selected subset. Connect the output of Scatter Plot to Merge Data, add the original data set as Extra Data and merge by Instance ID.</p>

<p><img src="../images/MergeData-InstanceID.png" alt="" /></p>

<p>#####Merge by two or more attributes</p>

<p>Sometimes our data instances are unique with respect to a combination of columns, not a single column. To merge by more than a single column, add the <em>Row matching</em> condition by pressing plus next to the matching condition. To remove it, press the x.</p>

<p>In the below example, we are merging by <em>student</em> column and <em>class</em> column.</p>

<p><img src="../images/MergeData-multiple.png" alt="" /></p>

<p>Say we have two data sets with student names and the class they&rsquo;re in. The first data set has students&rsquo; grades and the second on the elective course they have chosen. Unfortunately, there are two Jacks in our data, one from class A and the other from class B. Same for Jane.</p>

<p>To distinguish between the two, we can match rows on both, the student&rsquo;s name and her class.</p>

<p><img src="../images/MergeData-multiple2.png" alt="" /></p>

<h2 id="examples">Examples</h2>

<p>Merging two datasets results in appending new attributes to the original file, based on a selected common attribute. In the example below, we wanted to merge the <strong>zoo.tab</strong> file containing only factual data with <a href="http://file.biolab.si/datasets/zoo-with-images.tab">zoo-with-images.tab</a> containing images. Both files share a common string attribute <em>names</em>. Now, we create a workflow connecting the two files. The <em>zoo.tab</em> data is connected to <strong>Data</strong> input of the <strong>Merge Data</strong> widget, and the <em>zoo-with-images.tab</em> data to the <strong>Extra Data</strong> input. Outputs of the <strong>Merge Data</strong> widget is then connected to the <a href="../../data/datatable/">Data Table</a> widget. In the latter, the <strong>Merged Data</strong> channels are shown, where image attributes are added to the original data.</p>

<p><img src="../images/MergeData-Example.png" alt="" /></p>

<p>The case where we want to include all instances in the output, even those where no match by attribute <em>names</em> was found, is shown in the following workflow.</p>

<p><img src="../images/MergeData-Example2.png" alt="" /></p>

<p>The third type of merging is shown in the next workflow. The output consists of both inputs, with unknown values assigned where no match was found.</p>

<p><img src="../images/MergeData-Example3.png" alt="" /></p>

                    </div>
                </div>
            </div>
        </div>
    </section>

        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="row">

                <div class="col-md-4 col-sm-6 col-xs-12">
                    <div class="row">

                        <div class="col-sm-4 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Orange</div></b></li>
                                <li><a class="sitemap-sub" href="/faq/">FAQ</a></li>
                                <li><a class="sitemap-sub" href="/license/">License</a></li>
                                <li><a class="sitemap-sub" href="/privacy/">Privacy</a></li>
                                <li><a class="sitemap-sub" href="/citation/">Citation</a></li>
                                <li><a class="sitemap-sub" href="/contact/">Contact</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-4 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><div class="sitemap-cat">Download</div></li>
                                <li><a class="sitemap-sub" href="/download/#windows">Windows</a></li>
                                <li><a class="sitemap-sub" href="/download/#macos">Mac OS</a></li>
                                
                            </ul>
                        </div>

                        <div class="col-sm-4 sitemap-group">

                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Community</div></b></li>
                                <li><a class="sitemap-sub" href="https://www.facebook.com/orangedm" target="_blank">Facebook</a></li>
                                <li><a class="sitemap-sub" href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g" target="_blank">YouTube</a></li>
                                <li><a class="sitemap-sub" href="https://twitter.com/orangedataminer" target="_blank">Twitter</a></li>
                                <li><a class="sitemap-sub" href="https://datascience.stackexchange.com/questions/tagged/orange" target="_blank">Stack Exchange</a></li>
                                <li><a class="sitemap-sub" href="https://discord.gg/47gRDUQ" target="_blank">Discord</a></li>
                            </ul>

                        </div>

                    </div>
                </div>

                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="row">

                        <div class="col-sm-5 col-md-7 col-lg-6 sitemap-group docs-devs">
                            <ul class="links list-sitemap">
                                <li><div class="sitemap-cat">Documentation</div></li>
                                <li><a class="sitemap-sub" href='/getting-started/'>Get started</a></li>
                                <li><a class="sitemap-sub" href="/widget-catalog/">Widgets</a></li>
                                <li><a class="sitemap-sub" href="http://docs.orange.biolab.si/3/data-mining-library/">Scripting</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-3 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Developers</div></b></li>
                                <li><a class="sitemap-sub" target="_blank" href="https://github.com/biolab/orange3">GitHub</a></li>
                            </ul>
                        </div>

                    </div>
                </div>

                <div class="col-md-5 col-sm-12 col-xs-12 sitemap-group">
                    <div class="latest-blog-posts">
                        <ul class="links list-sitemap" style="padding-bottom: 10px">
                            <li><b><a class="sitemap-cat" href="/blog/">Latest blog posts</a></b></li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 28 Sep </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: orange" href="/blog/2019/2019-09-28-on-expected-vomiting-time/">On Expected Vomiting Time</a>
                            </div>
                            </div>
                            </li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 27 Aug </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: orange" href="/blog/2019/2019-08-27-pivot-table/">Aggregate, Group By and Pivot with... Pivot Table!</a>
                            </div>
                            </div>
                            </li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 26 Jul </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: orange" href="/blog/2019/2019-07-26-doctoral_summer_school/">Doctoral Summer School</a>
                            </div>
                            </div>
                            </li>
                            
                        </ul>
                    </div>
                </div>

            </div>

            <div class="row footer-pad">
                <div class="col-xs-12">
                    <small class="copyright pull-left"  >Copyright Â© University of Ljubljana</small>
                </div>
            </div>
        </div>
    </footer>

    </body>
</html>