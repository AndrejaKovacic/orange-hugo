<html>    
    <head>
    <title>Orange Data Mining - Preprocess Text</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Orange Data Mining Toolbox">
    <meta name="author" content="Bioinformatics Laboratory, University of Ljubljana">
    <meta name="google-site-verification" content="DS7GH5M7ABi78pIC2rMcTBFx-UeBFObXOeLvR7Ow3EQ" />
    <link rel="shortcut icon" href="/images/favicon.ico">
    
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Covered+By+Your+Grace' rel='stylesheet' type='text/css'>
    
    <link rel="stylesheet" href="/plugins/bootstrap/css/bootstrap.min.css">
    
    <link rel="stylesheet" href="/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/plugins/lightgallery/css/lightgallery.css">
    
    <link id="theme-style" rel="stylesheet" href="/css/styles.css">
    
    <link rel="stylesheet" href="/css/custom.css">
    <link rel="stylesheet" href="/css/custom_blog.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script id="dsq-count-scr" src="//orange-4.disqus.com/count.js" async></script>
    <link rel="stylesheet" href="/css/widgetcat.css">

     <script src="https://www.recaptcha.net/recaptcha/api.js" async defer></script>
    <noscript>
        <style>
            .jsonly { display: none !important; }
        </style>
    </noscript>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-528382-1', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');


    </script>

    
 

    <script type="text/javascript" src="/plugins/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/plugins/jquery.form.js"></script> 
    <script type="text/javascript" src="/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/plugins/detectmobilebrowser.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lightgallery.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-thumbnail.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-video.js"></script>
    <script type="text/javascript" src="/plugins/lightgallery/js/lg-zoom.js"></script>
    <script type="text/javascript" src="/js/custom.js"></script>

    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T5X4T27');</script>
    

    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T5X4T27"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    

    
    <script type="text/javascript">
      $( document ).ready( function () {

        $('a').off("click").click( function ( event ) {
           ga('send', 'event', "a", event.type, $(this).attr("id"), 1 );
        });

        $('[class *= trackClicks_]').off("click").click( function ( event ) {
           var classList = $(this).attr('class').split(/\s+/);
           var trackname = "";
           $.each(classList, function(index, item) {
             if (item.indexOf('trackClicks_') === 0) {
                trackname = item;
             }
           });
           ga('send', 'event', "a", event.type, trackname, 1 );
        });
      });
    </script>

</head>
    <body>

     <header id="top" class="header navbar-fixed-top">
        <div class="container" >
            <h1 class="logo pull-left" >
                <a id="header-orangelogo" href="/">
                    <img id="logo-image" class="logo-image" src="/images/orange_logo_hq.png" alt="Logo">
                </a>
            </h1>
            <nav id="main-nav" class="main-nav navbar-right" role="navigation">
                <div class="navbar-header">
                    <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
               <div class="navbar-collapse collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">

                        
                        
                            <li class="nav-item"><a id="menu_feature" href="/#Orange-Features">Features</a></li>                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/screenshots/">Screenshots</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/workflows/">Workflows</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/download/">Download</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/blog/">Blog</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/docs/">Docs</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item"><a id="header-screenshots-link"  href="/training/">Training</a></li>
                            
                        
                    
                    
                        
                            
                            <li class="nav-item">
                            <a class="btn donate" id="header-donate-link" role="button" target="_blank" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=A76TAX87ZVR3J">Donate</a>
                        </li>
                            
                        
                    
                    
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <div id="main">
        <div class="container-fluid clear-top">
            

<section id="features" class="features section padding-bottom">
        <div class="container page-background">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="content privacy padding-doc single-widget">
                        

<h1 id="preprocess-text">Preprocess Text</h1>

<p>Preprocesses corpus with selected methods.</p>

<p><strong>Inputs</strong></p>

<ul>
<li>Corpus: A collection of documents.</li>
</ul>

<p><strong>Outputs</strong></p>

<ul>
<li>Corpus: Preprocessed corpus.</li>
</ul>

<p><strong>Preprocess Text</strong> splits your text into smaller units (tokens), filters them, runs <a href="https://en.wikipedia.org/wiki/Stemming">normalization</a> (stemming, lemmatization), creates <a href="https://en.wikipedia.org/wiki/N-gram">n-grams</a> and tags tokens with <a href="https://en.wikipedia.org/wiki/Part_of_speech">part-of-speech</a> labels. Steps in the analysis are applied sequentially and can be turned on or off.</p>

<p><img src="../images/Preprocess-Text-stamped.png" alt="" /></p>

<ol>
<li><strong>Information on preprocessed data</strong>.
<em>Document count</em> reports on the number of documents on the input.
<em>Total tokens</em> counts all the tokens in corpus.
<em>Unique tokens</em> excludes duplicate tokens and reports only on unique tokens in the corpus.</li>
<li><strong>Transformation</strong> transforms input data. It applies lowercase transformation by default.

<ul>
<li><em>Lowercase</em> will turn all text to lowercase.</li>
<li><em>Remove accents</em> will remove all diacritics/accents in text.
naïve → naive</li>
<li><em>Parse html</em> will detect html tags and parse out text only.
&lt;a href&hellip;&gt;Some text&lt;/a&gt; → Some text</li>
<li><em>Remove urls</em> will remove urls from text.
This is a <a href="http://orange.biolab.si/">http://orange.biolab.si/</a> url. → This is a url.</li>
</ul></li>
<li><a href="https://en.wikipedia.org/wiki/Tokenization_(lexical_analysis)">Tokenization </a> is the method of breaking the text into smaller components (words, sentences, bigrams).

<ul>
<li><em>Word &amp; Punctuation</em> will split the text by words and keep punctuation symbols.
This example. → (This), (example), (.)</li>
<li><em>Whitespace</em> will split the text by whitespace only.
This example. → (This), (example.)</li>
<li><em>Sentence</em> will split the text by full stop, retaining only full sentences.
This example. Another example. → (This example.), (Another example.)</li>
<li><a href="https://en.wikipedia.org/wiki/Regular_expression">Regexp</a> will split the text by provided regex. It splits by words only by default (omits punctuation).</li>
<li><em>Tweet</em> will split the text by pre-trained Twitter model, which keeps hashtags, emoticons and other special symbols.
This example. :-) #simple → (This), (example), (.), (:-)), (#simple)</li>
</ul></li>
<li><strong>Normalization</strong> applies stemming and lemmatization to words. (I&rsquo;ve always loved cats. → I have alway love cat.) For languages other than English use Snowball Stemmer (offers languages available in its NLTK implementation).

<ul>
<li><a href="https://tartarus.org/martin/PorterStemmer/">Porter Stemmer</a> applies the original Porter stemmer.</li>
<li><a href="http://snowballstem.org/">Snowball Stemmer</a> applies an improved version of Porter stemmer (Porter2). Set the language for normalization, default is English.</li>
<li><a href="http://wordnet.princeton.edu/">WordNet Lemmatizer</a> applies a networks of cognitive synonyms to tokens based on a large lexical database of English.</li>
</ul></li>
<li><strong>Filtering</strong> removes or keeps a selection of words.

<ul>
<li><em>Stopwords</em> removes stopwords from text (e.g. removes &lsquo;and&rsquo;, &lsquo;or&rsquo;, &lsquo;in&rsquo;&hellip;). Select the language to filter by, English is set as default. You can also load your own list of stopwords provided in a simple *.txt file with one stopword per line.
<img src="../images/stopwords.png" alt="" />
Click &lsquo;browse&rsquo; icon to select the file containing stopwords. If the file was properly loaded, its name will be displayed next to pre-loaded stopwords. Change &lsquo;English&rsquo; to &lsquo;None&rsquo; if you wish to filter out only the provided stopwords. Click &lsquo;reload&rsquo; icon to reload the list of stopwords.</li>
<li><em>Lexicon</em> keeps only words provided in the file. Load a *.txt file with one word per line to use as lexicon. Click &lsquo;reload&rsquo; icon to reload the lexicon.</li>
<li><em>Regexp</em> removes words that match the regular expression. Default is set to remove punctuation.</li>
<li><em>Document frequency</em> keeps tokens that appear in not less than and not more than the specified number / percentage of documents. If you provide integers as parameters, it keeps only tokens that appear in the specified number of documents. E.g. DF = (3, 5) keeps only tokens that appear in 3 or more and 5 or less documents. If you provide floats as parameters, it keeps only tokens that appear in the specified percentage of documents. E.g. DF = (0.3, 0.5) keeps only tokens that appear in 30% to 50% of documents. Default returns all tokens.</li>
<li><em>Most frequent tokens</em> keeps only the specified number of most frequent tokens. Default is a 100 most frequent tokens.</li>
</ul></li>
<li><strong>N-grams Range</strong> creates n-grams from tokens. Numbers specify the range of n-grams. Default returns one-grams and two-grams.</li>
<li><strong>POS Tagger</strong> runs part-of-speech tagging on tokens.

<ul>
<li><a href="https://spacy.io/blog/part-of-speech-pos-tagger-in-python">Averaged Perceptron Tagger</a> runs POS tagging with Matthew Honnibal&rsquo;s averaged perceptron tagger.</li>
<li><a href="http://web.mit.edu/6.863/www/fall2012/projects/writeups/max-entropy-nltk.pdf">Treebank POS Tagger (MaxEnt)</a> runs POS tagging with a trained Penn Treebank model.</li>
<li><a href="http://nlp.stanford.edu/software/tagger.shtml#Download">Stanford POS Tagger</a> runs a log-linear part-of-speech tagger designed by Toutanova et al. Please download it from the provided website and load it in Orange. You have to load the language-specific model in Model and load <em>stanford-postagger.jar</em> in the Tagger section.</li>
</ul></li>
<li>Produce a report.</li>
<li>If <em>Commit Automatically</em> is on, changes are communicated automatically. Alternatively press <em>Commit</em>.</li>
</ol>

<p><strong>Note</strong>! Preprocess Text applies preprocessing steps in the order they are listed. This means it will first transform the text, then apply tokenization, POS tags, normalization, filtering and finally constructs n-grams based on given tokens. This is especially important for WordNet Lemmatizer since it requires POS tags for proper normalization.</p>

<h2 id="useful-regular-expressions">Useful Regular Expressions</h2>

<p>Here are some useful regular expressions for quick filtering:</p>

<p><code>\bword\b</code>: matches exact word
<code>\w+</code>: matches only words, no punctuation
<code>\b(B|b)\w+\b</code>: matches words beginning with the letter b
<code>\w{4,}</code>: matches words that are longer than 4 characters<br />
<code>\b\w+(Y|y)\b</code>: matches words ending with the letter y</p>

<h2 id="examples">Examples</h2>

<p>In the first example we will observe the effects of preprocessing on our text. We are working with <em>book-excerpts.tab</em> that we&rsquo;ve loaded with <a href="corpus-widget.md">Corpus</a> widget. We have connected <strong>Preprocess Text</strong> to <strong>Corpus</strong> and retained default preprocessing methods (lowercase, per-word tokenization and stopword removal). The only additional parameter we&rsquo;ve added as outputting only the first 100 most frequent tokens. Then we connected <strong>Preprocess Text</strong> with <a href="../wordcloud/">Word Cloud</a> to observe words that are the most frequent in our text. Play around with different parameters, to see how they transform the output.</p>

<p><img src="../images/Preprocess-Text-Example1.png" alt="" /></p>

<p>The second example is slightly more complex. We first acquired our data with <a href="../twitter-widget/">Twitter</a> widget. We quired the internet for tweets from users @HillaryClinton and @realDonaldTrump and got their tweets from the past two weeks, 242 in total.</p>

<p><img src="../images/Preprocess-Text-Example2.png" alt="" /></p>

<p>In <strong>Preprocess Text</strong> there&rsquo;s <em>Tweet</em> tokenization available, which retains hashtags, emojis, mentions and so on. However, this tokenizer doesn&rsquo;t get rid of punctuation, thus we expanded the Regexp filtering with symbols that we wanted to get rid of. We ended up with word-only tokens, which we displayed in <a href="../wordcloud/">Word Cloud</a>. Then we created a schema for predicting author based on tweet content, which is explained in more details in the documentation for <a href="../twitter-widget/">Twitter</a> widget.</p>

                    </div>
                </div>
            </div>
        </div>
    </section>

        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <div class="row">

                <div class="col-md-4 col-sm-6 col-xs-12">
                    <div class="row">

                        <div class="col-sm-4 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Orange</div></b></li>
                                <li><a class="sitemap-sub" href="/faq/">FAQ</a></li>
                                <li><a class="sitemap-sub" href="/license/">License</a></li>
                                <li><a class="sitemap-sub" href="/privacy/">Privacy</a></li>
                                <li><a class="sitemap-sub" href="/citation/">Citation</a></li>
                                <li><a class="sitemap-sub" href="/contact/">Contact</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-4 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><div class="sitemap-cat">Download</div></li>
                                <li><a class="sitemap-sub" href="/download/#windows">Windows</a></li>
                                <li><a class="sitemap-sub" href="/download/#macos">Mac OS</a></li>
                                
                            </ul>
                        </div>

                        <div class="col-sm-4 sitemap-group">

                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Community</div></b></li>
                                <li><a class="sitemap-sub" href="https://www.facebook.com/orangedm" target="_blank">Facebook</a></li>
                                <li><a class="sitemap-sub" href="https://www.youtube.com/channel/UClKKWBe2SCAEyv7ZNGhIe4g" target="_blank">YouTube</a></li>
                                <li><a class="sitemap-sub" href="https://twitter.com/orangedataminer" target="_blank">Twitter</a></li>
                                <li><a class="sitemap-sub" href="https://datascience.stackexchange.com/questions/tagged/orange" target="_blank">Stack Exchange</a></li>
                                <li><a class="sitemap-sub" href="https://discord.gg/FWrfeXV" target="_blank">Discord</a></li>
                            </ul>

                        </div>

                    </div>
                </div>

                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="row">

                        <div class="col-sm-5 col-md-7 col-lg-6 sitemap-group docs-devs">
                            <ul class="links list-sitemap">
                                <li><div class="sitemap-cat">Documentation</div></li>
                                <li><a class="sitemap-sub" href='/getting-started/'>Get started</a></li>
                                <li><a class="sitemap-sub" href="/widget-catalog/">Widgets</a></li>
                                <li><a class="sitemap-sub" href="http://docs.orange.biolab.si/3/data-mining-library/">Scripting</a></li>
                            </ul>
                        </div>

                        <div class="col-sm-3 sitemap-group">
                            <ul class="links list-sitemap">
                                <li><b><div class="sitemap-cat">Developers</div></b></li>
                                <li><a class="sitemap-sub" target="_blank" href="https://github.com/biolab/orange3">GitHub</a></li>
                            </ul>
                        </div>

                    </div>
                </div>

                <div class="col-md-5 col-sm-12 col-xs-12 sitemap-group">
                    <div class="latest-blog-posts">
                        <ul class="links list-sitemap" style="padding-bottom: 10px">
                            <li><b><a class="sitemap-cat" href="/blog/">Latest blog posts</a></b></li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 08 Feb </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: orange" href="/blog/2020/2020-02-08-lecture-notes/">Orange Lecture Notes</a>
                            </div>
                            </div>
                            </li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 29 Jan </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: orange" href="/blog/2020/2020-01-29-machine-anthropology/">What is Machine Anthropology?</a>
                            </div>
                            </div>
                            </li>
                            
                            <li>
                            <div class="row">
                            <div class="col-md-2"><a class="sitemap-sub"> 16 Jan </a></div>
                            <div class="col-md-10">
                                <a class="sitemap-sub" style="color: orange" href="/blog/2020/2020-01-16-orange-cloud/">Orange in the Cloud</a>
                            </div>
                            </div>
                            </li>
                            
                        </ul>
                    </div>
                </div>

            </div>

            <div class="row footer-pad">
                <div class="col-xs-12">
                    <small class="copyright pull-left"  >Copyright © University of Ljubljana</small>
                </div>
            </div>
        </div>
    </footer>

    </body>
</html>